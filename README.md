
#### 多银行支持
- 微信公众号 
   - URL 需要增加  ?id=[对接方]
   ```
   https://b530391e.ngrok.io/weixin/signature?id=fx
   https://b530391e.ngrok.io/weixin/signature
   ```  
   



#### 2019年04月08日版本
##### 上线说明
- 后端框架升级 springboot 2.1.2.RELEASE + springcloud Greenwich.RC2 
- 框架升级后，影响监控平台参数指标
- 后端换成 webflux 响应式开发
- 前端修改 error对象
- 涉及工资等信息时，由只读库 --> 写库,去了 rs-inside 这一层
- 涉及微信平台交互依然保持不变，依然访问rs-inside
- 此版本不涉及网关访问

##### 生产运维
- 网络部署架构保持不变
   - 由原来访问读库 变成 写库
   - 通过nginx 转发到后端应用
- consul注册中心，注册
- springboot 2.0健康指标参数变更
- nginx 去掉 rest访问
- 生产配置文件（内存 等）
- 启动脚本
- 项目git地址
- 新项目可以提前编译项目


##### 检查点
- [ ] mogodb日志检查
- [ ] 配置文件检查
- [ ] 微信分享


##### 问题
- [ ] 轮播图访问设计不合理，URL 、缓存
- [ ] 同事理财团 未认证时报错
- [ ] 红包菜单下线
- [ ] 访问时无工资明细

##### 上线总结
- 新项目地址没有明确给运维，导致项目工程引用错误
- 运维监控端口配置错误
- 工资条由写库改成读库时，新增字段，未创建，配置文件。
- 上线第二天生产问题总结
  - 问题：部分员工查询工资条列表时报错。  
    原因：从缓存取值后反序列化错误导致。  
    解决方案：不查缓存，直接查库。
  - 问题：IOS系统版本10.3以下的用户，点我的工资条后白屏。  
    原因：前端模拟数据时有控制，未放开导致。  
    解决方案：前端去除控制。


##### 运维健康
- consul注册中心， 监控和检查
- 筛选交易对比 交易耗时





#### 2019 下一版本
- 同事理财团，图片问题
- 轮播图
- 微信通过rs-ids
- 通过网关访问
- 工资信息通过mongodb访问